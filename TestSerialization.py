import unittest
from Serialization import Serialization

array_of_tests = [#simple1
                 [1, 1, 2, 2, 3, 3, 4, 4, 5, 5],
                 #simple2
                 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                 #edge1
                 [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                 #edge2
                 [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99],
                 #edge3
                 [100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300],
                 #random1
                 [84, 113, 257, 101, 71, 90, 211, 292, 93, 213, 172, 138, 281, 204, 109, 62, 10, 251, 178, 28, 131, 145, 154, 129, 298, 185, 246, 275, 151, 274, 274, 46, 193, 65, 14, 78, 286, 107, 98, 198, 284, 114, 34, 23, 116, 35, 93, 167, 130, 214],
                 #random2
                 [180, 287, 99, 248, 275, 182, 194, 44, 235, 253, 213, 243, 49, 250, 206, 43, 269, 294, 282, 46, 75, 19, 231, 102, 132, 293, 224, 163, 92, 55, 175, 259, 134, 48, 165, 94, 208, 22, 283, 131, 289, 178, 195, 33, 224, 244, 71, 118, 122, 147, 81, 254, 6, 57, 139, 98, 163, 96, 143, 142, 29, 197, 102, 214, 182, 211, 124, 95, 277, 156, 33, 285, 57, 95, 31, 295, 154, 78, 113, 17, 25, 273, 225, 83, 126, 8, 168, 224, 281, 27, 293, 89, 35, 15, 240, 209, 285, 269, 96],
                 #random3
                 [260, 89, 48, 34, 85, 239, 33, 82, 132, 219, 145, 81, 284, 280, 213, 19, 270, 229, 251, 297, 270, 22, 271, 167, 25, 20, 140, 50, 141, 128, 286, 297, 77, 79, 283, 24, 173, 13, 33, 252, 26, 86, 162, 225, 69, 266, 208, 134, 76, 42, 257, 268, 94, 69, 283, 80, 115, 219, 212, 140, 235, 156, 10, 86, 41, 165, 76, 294, 16, 145, 90, 256, 54, 121, 178, 225, 242, 170, 19, 199, 10, 285, 48, 49, 194, 72, 73, 66, 185, 283, 55, 299, 124, 235, 287, 65, 92, 36, 282, 198, 10, 279, 42, 187, 12, 23, 47, 26, 216, 107, 10, 44, 219, 4, 23, 247, 185, 224, 39, 44, 186, 273, 283, 294, 71, 47, 217, 89, 269, 211, 55, 88, 44, 154, 59, 101, 221, 137, 107, 163, 30, 228, 80, 290, 61, 99, 164, 11, 136, 100, 234, 173, 85, 242, 72, 217, 76, 2, 131, 55, 182, 204, 253, 228, 191, 269, 223, 212, 20, 26, 63, 120, 108, 239, 245, 144, 84, 9, 283, 31, 143, 59, 141, 57, 199, 87, 152, 245, 163, 217, 108, 296, 150, 188, 189, 85, 243, 243, 3, 14, 223, 298, 229, 223, 202, 265, 175, 77, 196, 59, 81, 283, 145, 285, 151, 25, 195, 78, 291, 160, 195, 72, 286, 24, 208, 9, 113, 154, 186, 43, 22, 169, 60, 161, 15, 222, 65, 117, 146, 183, 32, 26, 70, 213, 252, 42, 15, 234, 282, 199, 184, 15, 137, 170, 292, 233, 140, 262, 220, 210, 14, 189, 141, 36, 123, 194, 188, 47, 167, 54, 178, 290, 185, 182, 37, 271, 132, 180, 85, 131, 225, 54, 126, 183, 143, 259, 75, 49, 294, 267, 40, 266, 263, 73, 36, 208, 21, 150, 285, 279, 48, 260, 101, 3, 223, 112, 1, 224, 21, 149, 285, 48, 157, 83, 40, 246, 120, 103, 113, 239, 59, 151, 190, 41, 154, 189, 75, 105, 250, 175, 41, 29, 283, 281, 234, 143, 295, 290, 166, 91, 169, 85, 212, 49, 250, 214, 17, 93, 120, 148, 250, 267, 205, 292, 86, 61, 6, 116, 31, 32, 215, 182, 273, 122, 109, 134, 106, 72, 121, 218, 269, 245, 285, 240, 270, 289, 47, 244, 294, 268, 239, 295, 295, 125, 15, 234, 95, 58, 76, 297, 254, 64, 4, 146, 246, 140, 39, 218, 265, 63, 189, 123, 274, 24, 56, 89, 82, 167, 263, 58, 255, 38, 194, 203, 17, 145, 86, 292, 115, 259, 213, 92, 149, 159, 99, 115, 181, 285, 51, 147, 64, 125, 76, 65, 287, 133, 187, 192, 94, 136, 207, 61, 20, 75, 181, 300, 133, 49, 244, 101, 85, 265, 99, 273, 188, 295, 107, 262, 139, 283, 19, 249, 196, 105, 97, 38, 71, 273, 56, 148, 85, 243, 29, 138, 49, 49, 7, 12, 169, 5, 46, 282, 41, 207, 246, 234, 127, 182, 294, 23, 72, 70, 15, 45, 67, 136, 130, 104, 4],
                 #random4
                 [206, 272, 140, 230, 229, 281, 41, 213, 35, 168, 99, 8, 187, 206, 226, 108, 160, 258, 80, 280, 125, 147, 116, 215, 161, 244, 199, 175, 245, 278, 133, 279, 260, 236, 203, 17, 80, 48, 253, 166, 3, 115, 116, 294, 167, 241, 115, 84, 272, 292, 257, 32, 264, 48, 28, 261, 25, 166, 142, 287, 23, 141, 58, 40, 170, 172, 80, 7, 180, 280, 271, 135, 107, 245, 37, 295, 209, 54, 96, 210, 271, 114, 291, 57, 97, 15, 194, 101, 277, 188, 132, 284, 145, 277, 129, 115, 195, 29, 112, 19, 161, 275, 108, 276, 231, 14, 16, 15, 222, 126, 36, 77, 74, 219, 207, 221, 39, 97, 270, 120, 275, 67, 167, 299, 260, 257, 199, 267, 94, 21, 142, 144, 41, 103, 124, 245, 64, 1, 220, 216, 37, 64, 234, 169, 10, 155, 218, 189, 296, 179, 10, 180, 137, 278, 118, 18, 178, 141, 82, 233, 79, 121, 11, 110, 194, 195, 259, 265, 241, 165, 162, 287, 186, 253, 54, 81, 289, 295, 1, 265, 59, 272, 206, 178, 260, 142, 81, 24, 51, 192, 234, 134, 275, 267, 246, 299, 203, 207, 94, 101, 267, 91, 258, 63, 130, 118, 75, 121, 162, 154, 192, 72, 58, 223, 132, 148, 100, 137, 135, 289, 70, 201, 298, 150, 98, 43, 6, 34, 207, 212, 189, 78, 144, 254, 6, 271, 1, 191, 130, 297, 151, 83, 20, 299, 18, 131, 157, 126, 180, 189, 112, 96, 80, 78, 188, 131, 252, 76, 22, 258, 152, 284, 124, 141, 166, 79, 252, 61, 224, 142, 219, 260, 7, 164, 186, 36, 236, 254, 16, 165, 280, 19, 19, 246, 170, 238, 234, 223, 149, 281, 27, 213, 171, 165, 32, 7, 258, 188, 134, 108, 193, 175, 128, 251, 208, 165, 203, 113, 82, 109, 237, 139, 254, 112, 247, 151, 70, 280, 116, 121, 37, 171, 9, 159, 169, 260, 41, 100, 121, 145, 250, 29, 190, 176, 201, 264, 43, 283, 89, 32, 242, 286, 205, 221, 35, 138, 280, 107, 196, 199, 51, 200, 163, 37, 198, 57, 108, 181, 73, 73, 18, 191, 137, 197, 200, 37, 129, 239, 266, 287, 37, 143, 9, 127, 5, 191, 264, 31, 65, 283, 165, 265, 189, 106, 177, 13, 289, 221, 282, 134, 280, 249, 94, 232, 110, 84, 83, 54, 138, 192, 26, 142, 267, 176, 146, 70, 109, 81, 211, 142, 18, 155, 289, 117, 238, 47, 86, 9, 259, 194, 28, 263, 80, 139, 195, 39, 246, 173, 287, 88, 60, 18, 135, 268, 116, 81, 148, 250, 281, 158, 172, 258, 260, 201, 177, 14, 24, 204, 48, 271, 80, 130, 40, 52, 292, 154, 122, 203, 125, 31, 274, 284, 291, 14, 121, 144, 249, 132, 28, 288, 69, 89, 102, 204, 42, 169, 13, 2, 31, 108, 80, 175, 130, 44, 175, 169, 274, 201, 142, 264, 13, 130, 138, 219, 174, 269, 25, 13, 145, 74, 17, 236, 53, 300, 110, 271, 162, 92, 65, 278, 15, 131, 19, 245, 135, 174, 49, 137, 281, 234, 206, 280, 220, 13, 142, 184, 28, 154, 155, 193, 34, 254, 48, 41, 269, 145, 29, 149, 35, 206, 74, 205, 288, 286, 132, 14, 127, 37, 215, 143, 91, 140, 108, 295, 251, 287, 159, 156, 68, 224, 10, 300, 243, 172, 248, 184, 181, 165, 172, 48, 169, 101, 210, 248, 74, 32, 264, 65, 137, 115, 111, 250, 70, 185, 135, 241, 250, 124, 147, 275, 271, 277, 204, 36, 154, 155, 175, 80, 234, 218, 151, 278, 264, 272, 278, 2, 64, 213, 17, 97, 214, 9, 141, 294, 248, 242, 138, 70, 141, 85, 258, 98, 43, 236, 191, 173, 275, 298, 238, 141, 123, 89, 96, 183, 125, 122, 62, 274, 220, 11, 125, 34, 285, 217, 11, 273, 201, 292, 223, 277, 221, 152, 37, 21, 34, 24, 82, 282, 254, 180, 122, 13, 210, 192, 124, 126, 224, 127, 217, 11, 27, 217, 270, 206, 103, 179, 155, 249, 160, 180, 239, 97, 47, 189, 146, 16, 241, 117, 78, 278, 249, 273, 177, 169, 24, 181, 103, 47, 166, 270, 131, 270, 72, 186, 175, 286, 251, 35, 186, 29, 244, 112, 287, 106, 123, 220, 125, 294, 242, 140, 138, 57, 283, 71, 126, 248, 125, 84, 99, 75, 220, 76, 295, 67, 140, 9, 22, 35, 82, 252, 269, 57, 69, 203, 164, 255, 45, 47, 164, 268, 274, 49, 218, 267, 167, 18, 174, 223, 168, 103, 214, 32, 23, 299, 145, 49, 221, 19, 297, 193, 38, 46, 294, 124, 224, 32, 5, 68, 283, 90, 6, 267, 10, 299, 14, 122, 44, 284, 140, 42, 183, 36, 287, 251, 47, 136, 193, 43, 283, 290, 216, 194, 202, 211, 130, 249, 83, 44, 19, 282, 219, 140, 15, 87, 51, 267, 112, 221, 261, 220, 28, 224, 17, 232, 244, 51, 121, 28, 65, 147, 16, 199, 5, 242, 195, 272, 220, 9, 90, 127, 117, 112, 102, 73, 233, 187, 27, 229, 26, 67, 294, 55, 56, 73, 71, 192, 246, 77, 190, 95, 175, 138, 64, 179, 285, 165, 110, 26, 6, 181, 169, 270, 106, 150, 1, 244, 89, 96, 290, 182, 105, 203, 260, 259, 8, 77, 242, 163, 79, 276, 195, 12, 38, 14, 193, 103, 94, 59, 138, 223, 171, 228, 74, 15, 63, 88, 168, 169, 168, 120, 152, 50, 275, 225, 294, 202, 146, 22, 269, 159, 164, 194, 29, 269, 263, 174, 165, 239, 240, 289, 167, 110, 157, 180, 202, 181, 257, 4, 233, 261, 183, 15, 290, 75, 184, 179, 27, 116, 93, 227, 297, 31, 287, 40, 87, 104, 36, 13, 140, 7, 45, 159, 264, 235, 88, 252, 20, 221, 159, 196, 199, 73, 220, 289, 54, 168, 206, 114, 181, 209, 88, 91, 258, 283, 249, 73, 239, 161, 27, 11, 32, 221, 81, 272, 245, 262, 221, 148, 257],
                 #all3
                 [1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4, 5, 5, 5, 6, 6, 6, 7, 7, 7, 8, 8, 8, 9, 9, 9, 10, 10, 10, 11, 11, 11, 12, 12, 12, 13, 13, 13, 14, 14, 14, 15, 15, 15, 16, 16, 16, 17, 17, 17, 18, 18, 18, 19, 19, 19, 20, 20, 20, 21, 21, 21, 22, 22, 22, 23, 23, 23, 24, 24, 24, 25, 25, 25, 26, 26, 26, 27, 27, 27, 28, 28, 28, 29, 29, 29, 30, 30, 30, 31, 31, 31, 32, 32, 32, 33, 33, 33, 34, 34, 34, 35, 35, 35, 36, 36, 36, 37, 37, 37, 38, 38, 38, 39, 39, 39, 40, 40, 40, 41, 41, 41, 42, 42, 42, 43, 43, 43, 44, 44, 44, 45, 45, 45, 46, 46, 46, 47, 47, 47, 48, 48, 48, 49, 49, 49, 50, 50, 50, 51, 51, 51, 52, 52, 52, 53, 53, 53, 54, 54, 54, 55, 55, 55, 56, 56, 56, 57, 57, 57, 58, 58, 58, 59, 59, 59, 60, 60, 60, 61, 61, 61, 62, 62, 62, 63, 63, 63, 64, 64, 64, 65, 65, 65, 66, 66, 66, 67, 67, 67, 68, 68, 68, 69, 69, 69, 70, 70, 70, 71, 71, 71, 72, 72, 72, 73, 73, 73, 74, 74, 74, 75, 75, 75, 76, 76, 76, 77, 77, 77, 78, 78, 78, 79, 79, 79, 80, 80, 80, 81, 81, 81, 82, 82, 82, 83, 83, 83, 84, 84, 84, 85, 85, 85, 86, 86, 86, 87, 87, 87, 88, 88, 88, 89, 89, 89, 90, 90, 90, 91, 91, 91, 92, 92, 92, 93, 93, 93, 94, 94, 94, 95, 95, 95, 96, 96, 96, 97, 97, 97, 98, 98, 98, 99, 99, 99, 100, 100, 100, 101, 101, 101, 102, 102, 102, 103, 103, 103, 104, 104, 104, 105, 105, 105, 106, 106, 106, 107, 107, 107, 108, 108, 108, 109, 109, 109, 110, 110, 110, 111, 111, 111, 112, 112, 112, 113, 113, 113, 114, 114, 114, 115, 115, 115, 116, 116, 116, 117, 117, 117, 118, 118, 118, 119, 119, 119, 120, 120, 120, 121, 121, 121, 122, 122, 122, 123, 123, 123, 124, 124, 124, 125, 125, 125, 126, 126, 126, 127, 127, 127, 128, 128, 128, 129, 129, 129, 130, 130, 130, 131, 131, 131, 132, 132, 132, 133, 133, 133, 134, 134, 134, 135, 135, 135, 136, 136, 136, 137, 137, 137, 138, 138, 138, 139, 139, 139, 140, 140, 140, 141, 141, 141, 142, 142, 142, 143, 143, 143, 144, 144, 144, 145, 145, 145, 146, 146, 146, 147, 147, 147, 148, 148, 148, 149, 149, 149, 150, 150, 150, 151, 151, 151, 152, 152, 152, 153, 153, 153, 154, 154, 154, 155, 155, 155, 156, 156, 156, 157, 157, 157, 158, 158, 158, 159, 159, 159, 160, 160, 160, 161, 161, 161, 162, 162, 162, 163, 163, 163, 164, 164, 164, 165, 165, 165, 166, 166, 166, 167, 167, 167, 168, 168, 168, 169, 169, 169, 170, 170, 170, 171, 171, 171, 172, 172, 172, 173, 173, 173, 174, 174, 174, 175, 175, 175, 176, 176, 176, 177, 177, 177, 178, 178, 178, 179, 179, 179, 180, 180, 180, 181, 181, 181, 182, 182, 182, 183, 183, 183, 184, 184, 184, 185, 185, 185, 186, 186, 186, 187, 187, 187, 188, 188, 188, 189, 189, 189, 190, 190, 190, 191, 191, 191, 192, 192, 192, 193, 193, 193, 194, 194, 194, 195, 195, 195, 196, 196, 196, 197, 197, 197, 198, 198, 198, 199, 199, 199, 200, 200, 200, 201, 201, 201, 202, 202, 202, 203, 203, 203, 204, 204, 204, 205, 205, 205, 206, 206, 206, 207, 207, 207, 208, 208, 208, 209, 209, 209, 210, 210, 210, 211, 211, 211, 212, 212, 212, 213, 213, 213, 214, 214, 214, 215, 215, 215, 216, 216, 216, 217, 217, 217, 218, 218, 218, 219, 219, 219, 220, 220, 220, 221, 221, 221, 222, 222, 222, 223, 223, 223, 224, 224, 224, 225, 225, 225, 226, 226, 226, 227, 227, 227, 228, 228, 228, 229, 229, 229, 230, 230, 230, 231, 231, 231, 232, 232, 232, 233, 233, 233, 234, 234, 234, 235, 235, 235, 236, 236, 236, 237, 237, 237, 238, 238, 238, 239, 239, 239, 240, 240, 240, 241, 241, 241, 242, 242, 242, 243, 243, 243, 244, 244, 244, 245, 245, 245, 246, 246, 246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, 253, 253, 253, 254, 254, 254, 255, 255, 255, 256, 256, 256, 257, 257, 257, 258, 258, 258, 259, 259, 259, 260, 260, 260, 261, 261, 261, 262, 262, 262, 263, 263, 263, 264, 264, 264, 265, 265, 265, 266, 266, 266, 267, 267, 267, 268, 268, 268, 269, 269, 269, 270, 270, 270, 271, 271, 271, 272, 272, 272, 273, 273, 273, 274, 274, 274, 275, 275, 275, 276, 276, 276, 277, 277, 277, 278, 278, 278, 279, 279, 279, 280, 280, 280, 281, 281, 281, 282, 282, 282, 283, 283, 283, 284, 284, 284, 285, 285, 285, 286, 286, 286, 287, 287, 287, 288, 288, 288, 289, 289, 289, 290, 290, 290, 291, 291, 291, 292, 292, 292, 293, 293, 293, 294, 294, 294, 295, 295, 295, 296, 296, 296, 297, 297, 297, 298, 298, 298, 299, 299, 299, 300, 300, 300]
                 ]

dict = {'simple1': [1, 1, 2, 2, 3, 3, 4, 4, 5, 5]}

class TestSerialization(unittest.TestCase):

    def setUp(self):
        self.serialization = Serialization()

    def test_serilization(self):
        for arr in array_of_tests:
            cereal = Serialization.serialize(arr)
            decereal = Serialization.deserialize(cereal)
            cr = Serialization.compress_ratio(cereal, arr)
            self.assertEqual(decereal, arr)
            print("\nМассив до сериализации:")
            print(arr)
            print("\nМассив после сериализации:")
            print(cereal)
            print("\nМассив после десериализации:")
            print(decereal)
            print("\nКоэфицент сжатия:")
            print(cr)
            print("\n\n")


if __name__ == '__main__':
    unittest.main()
